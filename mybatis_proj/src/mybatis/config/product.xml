<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
   <!-- vs code 확장 프로그램 XML(XML Language Support by RedHat) 설치해야 자동 완성합니다. -->
<mapper namespace="tblproduct">
<!-- 1.VO 클래스 만들기 2. 설정파일에 mapper와 typealiass 추가 -->
 <!-- 기존의 TblProductDao의 SQL을 여기에서 작성해서 새로운 DAO 만드세요. -->
    <select id="selectAll" resultType="ProductVo">
        SELECT * FROM tbl_product
    </select>
    <select id="selectByPk" parameterType="String" resultType="ProductVo">
        SELECT * FROM tbl_product WHERE product_id=#{productId}
    </select>
    <insert id="insert" parameterType="ProductVo">
        INSERT INTO tbl_product VALUES (#{pcode},#{category},#{pname,jdbcType=VARCHAR},#{price})
        <!-- category 컬럼은 null 허용. 널 값 처리를 위해서 jdbcType = VARCHAR(NUMBERIC)옵션 추가 -->
    </insert>
    <update id="update" parameterType="ProductVo">
        UPDATE tbl_product SET pname = #{pname}, price = #{price} WHERE pcode = #{pcode}
    </update>
    <!-- 새로운 버전의 string 별칭 테스트 -->
    <delete id="delete" parameterType="String">
        DELETE FROM tbl_product WHERE pcode = #{pcode}
    </delete>
</mapper>
